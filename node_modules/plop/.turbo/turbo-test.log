

> plop@4.0.3 test:instrument
> nyc instrument ./bin ./instrumented/bin && nyc instrument ./src ./instrumented/src && cp package.json ./instrumented

[1G[0K[1G[0Kâ ™[1G[0K
> plop@4.0.3 vitest
> vitest run

[1G[0K[?25l
[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90m/Users/crutchcorn/git/plopjs/plop/packages/plop[39m

[?2026h
[1m[33m â¯ [39m[22mtests/typescript.spec.js[2m [queued][22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m0 passed[39m[22m[90m (0)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m173ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22mtests/action-failure.spec.js[2m 0/1[22m
[1m[33m â¯ [39m[22mtests/actions.spec.js[2m [queued][22m
[1m[33m â¯ [39m[22mtests/esm.spec.js[2m [queued][22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m [queued][22m
[1m[33m â¯ [39m[22mtests/typescript.spec.js[2m [queued][22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m [queued][22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m0 passed[39m[22m[90m (1)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m274ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22mtests/action-failure.spec.js[2m 0/1[22m
[1m[33m â¯ [39m[22mtests/actions.spec.js[2m 0/6[22m
[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 0/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 0/16[22m
[1m[33m â¯ [39m[22mtests/typescript.spec.js[2m 0/1[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 0/5[22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m0 passed[39m[22m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m877ms
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K
[1m[33m â¯ [39m[22mtests/action-failure.spec.js[2m 0/1[22m
[1m[33m â¯ [39m[22mtests/actions.spec.js[2m 0/6[22m
[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 0/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 0/16[22m
[1m[33m â¯ [39m[22mtests/typescript.spec.js[2m 1/1[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 0/5[22m

[2m Test Files [22m[1m[32m0 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m1 passed[39m[22m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m1.18s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m tests/typescript.spec.js [2m([22m[2m1 test[22m[2m)[22m[33m 898[2mms[22m[39m
   [33m[2mâœ“[22m[39m support typescript out of the box [33m 898[2mms[22m[39m
 [32mâœ“[39m tests/action-failure.spec.js [2m([22m[2m1 test[22m[2m)[22m[33m 974[2mms[22m[39m
   [33m[2mâœ“[22m[39m should exit with code 1 when failed actions [33m 973[2mms[22m[39m


[1m[33m â¯ [39m[22mtests/actions.spec.js[2m 1/6[22m
[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 0/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 0/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 0/5[22m

[2m Test Files [22m[1m[32m2 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m3 passed[39m[22m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m1.38s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/actions.spec.js[2m 1/6[22m
[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 1/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 0/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 1/5[22m

[2m Test Files [22m[1m[32m2 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m5 passed[39m[22m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m1.48s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/actions.spec.js[2m 2/6[22m
[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 1/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 1/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 1/5[22m

[2m Test Files [22m[1m[32m2 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m7 passed[39m[22m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m1.58s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m tests/actions.spec.js [2m([22m[2m6 tests[22m[2m | [22m[33m4 skipped[39m[2m)[22m[33m 1272[2mms[22m[39m
   [33m[2mâœ“[22m[39m Plop to add and rename files [33m 932[2mms[22m[39m
   [33m[2mâœ“[22m[39m Plop to add and change file contents [33m 340[2mms[22m[39m


[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 2/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 1/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 1/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m8 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m1.78s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 2/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 1/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 2/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m9 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m1.89s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 3/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 2/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 2/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m11 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m2.09s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/esm.spec.js[2m 4/4[22m
[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 2/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 3/5[22m

[2m Test Files [22m[1m[32m3 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m13 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m2.29s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m tests/esm.spec.js [2m([22m[2m4 tests[22m[2m)[22m[33m 1878[2mms[22m[39m
   [33m[2mâœ“[22m[39m should load ESM file [33m 967[2mms[22m[39m
   [33m[2mâœ“[22m[39m should load MJS file [33m 331[2mms[22m[39m


[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 3/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 3/5[22m

[2m Test Files [22m[1m[32m4 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m14 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m2.39s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 3/16[22m
[1m[33m â¯ [39m[22mtests/wrapper.spec.js[2m 5/5[22m

[2m Test Files [22m[1m[32m4 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m16 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m2.59s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m tests/wrapper.spec.js [2m([22m[2m5 tests[22m[2m)[22m[33m 2243[2mms[22m[39m
   [33m[2mâœ“[22m[39m wrapper should show version on v flag [33m 1054[2mms[22m[39m
   [33m[2mâœ“[22m[39m wrapper should prompts [33m 331[2mms[22m[39m
   [33m[2mâœ“[22m[39m wrapper should bypass prompts with name [33m 305[2mms[22m[39m


[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 4/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m17 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m2.79s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 4/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m17 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m2.89s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 5/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m18 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m3.10s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 6/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m19 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m3.40s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 7/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m20 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m3.70s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 7/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m20 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m3.90s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 9/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m22 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m4.20s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 10/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m23 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m4.51s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 11/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m24 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m4.81s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 11/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m24 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m4.91s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 12/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m25 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m5.01s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 13/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m26 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m5.31s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 14/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m27 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m5.51s
[?2026l[?2026h[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K

[1m[33m â¯ [39m[22mtests/input-processing.spec.js[2m 15/16[22m

[2m Test Files [22m[1m[32m5 passed[39m[22m[90m (6)[39m
[2m      Tests [22m[1m[32m28 passed[39m[22m[2m | [22m[33m4 skipped[39m[90m (33)[39m
[2m   Start at [22m11:53:28
[2m   Duration [22m5.72s
[?2026l[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K[1A[K [32mâœ“[39m tests/input-processing.spec.js [2m([22m[2m16 tests[22m[2m | [22m[33m1 skipped[39m[2m)[22m[33m 5370[2mms[22m[39m
   [33m[2mâœ“[22m[39m should report a missing plopfile when not copied [33m 1043[2mms[22m[39m
   [33m[2mâœ“[22m[39m should show help information on help flag [33m 460[2mms[22m[39m
   [33m[2mâœ“[22m[39m should show version on version flag [33m 432[2mms[22m[39m
   [33m[2mâœ“[22m[39m should show version on v flag [33m 397[2mms[22m[39m
   [33m[2mâœ“[22m[39m Should handle generator prompt [33m 312[2mms[22m[39m
   [33m[2mâœ“[22m[39m Should bypass generator prompt [33m 302[2mms[22m[39m

[2m Test Files [22m [1m[32m6 passed[39m[22m[90m (6)[39m
[2m      Tests [22m [1m[32m28 passed[39m[22m[2m | [22m[90m5 todo[39m[90m (33)[39m
[2m   Start at [22m 11:53:28
[2m   Duration [22m 5.84s[2m (transform 53ms, setup 431ms, collect 217ms, tests 12.63s, environment 1ms, prepare 573ms)[22m

[?25h[1G[0Kâ ™[1G[0K----------------------|---------|----------|---------|---------|--------------------------------
File                  | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s              
----------------------|---------|----------|---------|---------|--------------------------------
[31;1mAll files            [0m | [31;1m  16.09[0m | [31;1m   15.25[0m | [31;1m    7.5[0m | [31;1m  16.96[0m | [31;1m                              [0m 
[32;1m bin                 [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                              [0m 
[32;1m  plop.js            [0m | [32;1m    100[0m | [32;1m     100[0m | [32;1m    100[0m | [32;1m    100[0m | [33;1m                              [0m 
[31;1m src                 [0m | [31;1m  14.11[0m | [31;1m   13.79[0m | [31;1m   5.12[0m | [31;1m   14.9[0m | [31;1m                              [0m 
[31;1m  bypass.js          [0m | [31;1m      0[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m      0[0m | [31;1m14-69                         [0m 
[31;1m  console-out.js     [0m | [31;1m     12[0m | [31;1m       0[0m | [31;1m      0[0m | [31;1m   12.5[0m | [31;1m9-129,141-142                 [0m 
[31;1m  input-processing.js[0m | [31;1m  26.08[0m | [31;1m   38.88[0m | [31;1m  14.28[0m | [31;1m   27.9[0m | [31;1m17-55,68-69,74-80,88-89,98-101[0m 
[31;1m  plop.js            [0m | [31;1m   12.5[0m | [31;1m    4.76[0m | [31;1m   7.69[0m | [31;1m  12.85[0m | [31;1m31-32,55-176                  [0m 
----------------------|---------|----------|---------|---------|--------------------------------

=============================== Coverage summary ===============================
[31;1mStatements   : 16.09% ( 28/174 )[0m
[31;1mBranches     : 15.25% ( 18/118 )[0m
[31;1mFunctions    : 7.5% ( 3/40 )[0m
[31;1mLines        : 16.96% ( 28/165 )[0m
================================================================================
